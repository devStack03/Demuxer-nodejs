{"version":3,"file":"demuxer.mp4.cjs.js","sources":["../src/enum/events.ts","../src/util/event-emitter.ts","../src/types/globals.ts","../src/util/is.ts","../src/util/cache-buffer.ts","../src/util/multi-map.ts","../src/util/event-manager.ts","../src/util/global.ts","../src/util/logger.ts","../src/util/stream.ts","../src/demux-facade.ts","../src/mp4/mp4-inspector.ts","../src/mp4/demux.ts"],"sourcesContent":["/**\r\n * @file= events.js, created at Monday, 23rd December 2019 3=47=23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\nexport enum Events {\r\n    ERROR = 'ERROR',\r\n    INFO = 'INFO',\r\n    DATA = 'DATA',\r\n    DEMUX_DATA = 'DEMUX_DATA',\r\n    DONE = 'DONE'\r\n}\r\n","/**\r\n * @copyright https://github.com/nodejs/node/blob/master/lib/events.js\r\n */\r\n/* eslint-disable */\r\n// Copyright Joyent, Inc. and other Node contributors.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a\r\n// copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to permit\r\n// persons to whom the Software is furnished to do so, subject to the\r\n// following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included\r\n// in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\r\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\r\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nvar objectCreate = Object.create || objectCreatePolyfill;\r\nvar objectKeys = Object.keys || objectKeysPolyfill;\r\nvar bind = Function.prototype.bind || functionBindPolyfill;\r\n\r\n// By default Dispatchers will print a warning if more than 10 listeners are\r\n// added to it. This is a useful default which helps finding memory leaks.\r\nlet defaultMaxListeners = 10;\r\n\r\nexport default class EventEmitter {\r\n    static listenerCount(emitter, type) {\r\n        if (typeof emitter.listenerCount === 'function') {\r\n            return emitter.listenerCount(type);\r\n        } else {\r\n            return listenerCount.call(emitter, type);\r\n        }\r\n    }\r\n\r\n    static defaultMaxListeners: number;\r\n\r\n    _maxListeners?: number;\r\n    _eventsCount: number;\r\n    _events: any;\r\n\r\n    constructor() {\r\n        if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\r\n            this._events = objectCreate(null);\r\n            this._eventsCount = 0;\r\n        }\r\n\r\n        this._maxListeners = this._maxListeners || undefined;\r\n    }\r\n\r\n    // // Obviously not all Emitters should be limited to 10. This function allows\r\n    // // that to be increased. Set to zero for unlimited.\r\n    // setMaxListeners(n) {\r\n    //     if (typeof n !== 'number' || n < 0 || isNaN(n))\r\n    //         throw new TypeError('\"n\" argument must be a positive number');\r\n    //     this._maxListeners = n;\r\n    //     return this;\r\n    // }\r\n    //\r\n    // getMaxListeners() {\r\n    //     return $getMaxListeners(this);\r\n    // }\r\n\r\n    emit(type: string, ...rest) {\r\n        var er, handler, len, args, i, events;\r\n        var doError = type === 'error';\r\n\r\n        events = this._events;\r\n        if (events) doError = doError && events.error == null;\r\n        else if (!doError) return false;\r\n\r\n        // If there is no 'error' event listener then throw.\r\n        if (doError) {\r\n            if (arguments.length > 1) er = arguments[1];\r\n            if (er instanceof Error) {\r\n                throw er; // Unhandled 'error' event\r\n            } else {\r\n                // At least give some kind of context to the user\r\n                var err = new Error('Unhandled \"error\" event. (' + er + ')');\r\n                err['context'] = er;\r\n                throw err;\r\n            }\r\n        }\r\n\r\n        handler = events[type];\r\n\r\n        if (!handler) return false;\r\n\r\n        var isFn = typeof handler === 'function';\r\n        len = arguments.length;\r\n        switch (len) {\r\n            // fast cases\r\n            case 1:\r\n                emitNone(handler, isFn, this);\r\n                break;\r\n            case 2:\r\n                emitOne(handler, isFn, this, arguments[1]);\r\n                break;\r\n            case 3:\r\n                emitTwo(handler, isFn, this, arguments[1], arguments[2]);\r\n                break;\r\n            case 4:\r\n                emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\r\n                break;\r\n            // slower\r\n            default:\r\n                args = new Array(len - 1);\r\n                for (i = 1; i < len; i++) args[i - 1] = arguments[i];\r\n                emitMany(handler, isFn, this, args);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    on(type: string, listener: Function) {\r\n        return _addListener(this, type, listener);\r\n    }\r\n\r\n    once(type, listener) {\r\n        if (typeof listener !== 'function') throw new TypeError('\"listener\" argument must be a function');\r\n        this.on(type, _onceWrap(this, type, listener));\r\n        return this;\r\n    }\r\n\r\n    off(type, listener) {\r\n        return _removeListener.call(this, type, listener);\r\n    }\r\n\r\n    removeAllListeners(type) {\r\n        var listeners, events, i;\r\n\r\n        events = this._events;\r\n        if (!events) return this;\r\n\r\n        // not listening for off, no need to emit\r\n        if (!events.off) {\r\n            if (arguments.length === 0) {\r\n                this._events = objectCreate(null);\r\n                this._eventsCount = 0;\r\n            } else if (events[type]) {\r\n                if (--this._eventsCount === 0) this._events = objectCreate(null);\r\n                else delete events[type];\r\n            }\r\n            return this;\r\n        }\r\n\r\n        // emit off for all listeners on all events\r\n        if (arguments.length === 0) {\r\n            var keys = objectKeys(events);\r\n            var key;\r\n            for (i = 0; i < keys.length; ++i) {\r\n                key = keys[i];\r\n                if (key === 'off') continue;\r\n                this.removeAllListeners(key);\r\n            }\r\n            this.removeAllListeners('off');\r\n            this._events = objectCreate(null);\r\n            this._eventsCount = 0;\r\n            return this;\r\n        }\r\n\r\n        listeners = events[type];\r\n\r\n        if (typeof listeners === 'function') {\r\n            this.off(type, listeners);\r\n        } else if (listeners) {\r\n            // LIFO order\r\n            for (i = listeners.length - 1; i >= 0; i--) {\r\n                this.off(type, listeners[i]);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    listeners(type) {\r\n        return _listeners(this, type, true);\r\n    }\r\n\r\n    rawListeners(type) {\r\n        return _listeners(this, type, false);\r\n    }\r\n\r\n    listenerCount() {\r\n        return EventEmitter.listenerCount.apply(this, arguments);\r\n    }\r\n}\r\n\r\nlet hasDefineProperty;\r\ntry {\r\n    var o = {};\r\n    if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\r\n    hasDefineProperty = o['x'] === 0;\r\n} catch (err) {\r\n    hasDefineProperty = false;\r\n}\r\nif (hasDefineProperty) {\r\n    Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\r\n        enumerable: true,\r\n        get: function () {\r\n            return defaultMaxListeners;\r\n        },\r\n        set: function (arg) {\r\n            // check whether the input is a positive number (whose value is zero or\r\n            // greater and not a NaN).\r\n            if (typeof arg !== 'number' || arg < 0 || arg !== arg)\r\n                throw new TypeError('\"defaultMaxListeners\" must be a positive number');\r\n            defaultMaxListeners = arg;\r\n        }\r\n    });\r\n} else {\r\n    EventEmitter.defaultMaxListeners = defaultMaxListeners;\r\n}\r\n\r\nfunction $getMaxListeners(that) {\r\n    if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\r\n    return that._maxListeners;\r\n}\r\n\r\n// These standalone emit* functions are used to optimize calling of event\r\n// handlers for fast cases because emit() itself often has a variable number of\r\n// arguments and can be deoptimized because of that. These functions always have\r\n// the same number of arguments and thus do not get deoptimized, so the code\r\n// inside them can execute faster.\r\nfunction emitNone(handler, isFn, self) {\r\n    if (isFn) handler.call(self);\r\n    else {\r\n        var len = handler.length;\r\n        var listeners = arrayClone(handler, len);\r\n        for (var i = 0; i < len; ++i) {\r\n            try {\r\n                listeners[i].call(self);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction emitOne(handler, isFn, self, arg1) {\r\n    if (isFn) handler.call(self, arg1);\r\n    else {\r\n        var len = handler.length;\r\n        var listeners = arrayClone(handler, len);\r\n        for (var i = 0; i < len; ++i) {\r\n            try {\r\n                listeners[i].call(self, arg1);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\r\n    if (isFn) handler.call(self, arg1, arg2);\r\n    else {\r\n        var len = handler.length;\r\n        var listeners = arrayClone(handler, len);\r\n        for (var i = 0; i < len; ++i) {\r\n            try {\r\n                listeners[i].call(self, arg1, arg2);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\r\n    if (isFn) handler.call(self, arg1, arg2, arg3);\r\n    else {\r\n        var len = handler.length;\r\n        var listeners = arrayClone(handler, len);\r\n        for (var i = 0; i < len; ++i) {\r\n            try {\r\n                listeners[i].call(self, arg1, arg2, arg3);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction emitMany(handler, isFn, self, args) {\r\n    if (isFn) handler.apply(self, args);\r\n    else {\r\n        var len = handler.length;\r\n        var listeners = arrayClone(handler, len);\r\n        for (var i = 0; i < len; ++i) {\r\n            try {\r\n                listeners[i].apply(self, args);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction _addListener(target: EventEmitter, type, listener: Function) {\r\n    var m;\r\n    var events;\r\n    var existing;\r\n\r\n    if (typeof listener !== 'function') throw new TypeError('\"listener\" argument must be a function');\r\n\r\n    events = target._events;\r\n    if (!events) {\r\n        events = target._events = objectCreate(null);\r\n        target._eventsCount = 0;\r\n    } else {\r\n        // To avoid recursion in the case that type === \"newListener\"! Before\r\n        // adding it to the listeners, first emit \"newListener\".\r\n        if (events.newListener) {\r\n            target.emit('newListener', type, listener['listener'] ? listener['listener'] : listener);\r\n\r\n            // Re-assign `events` because a newListener handler could have caused the\r\n            // this._events to be assigned to a new object\r\n            events = target._events;\r\n        }\r\n        existing = events[type];\r\n    }\r\n\r\n    if (!existing) {\r\n        // Optimize the case of one listener. Don't need the extra array object.\r\n        existing = events[type] = listener;\r\n        ++target._eventsCount;\r\n    } else {\r\n        if (typeof existing === 'function') {\r\n            // Adding the second element, need to change to array.\r\n            existing = events[type] = [existing, listener];\r\n        } else {\r\n            existing.push(listener);\r\n        }\r\n\r\n        // Check for listener leak\r\n        if (!existing.warned) {\r\n            m = $getMaxListeners(target);\r\n            if (m && m > 0 && existing.length > m) {\r\n                existing.warned = true;\r\n\r\n                class CustomError extends Error {\r\n                    emitter: any;\r\n                    type: string;\r\n                    count: number;\r\n                }\r\n                let w: CustomError = new CustomError(\r\n                    'Possible Dispatcher memory leak detected. ' +\r\n                        existing.length +\r\n                        ' \"' +\r\n                        String(type) +\r\n                        '\" listeners ' +\r\n                        'added. Use emitter.setMaxListeners() to ' +\r\n                        'increase limit.'\r\n                );\r\n                w.name = 'MaxListenersExceededWarning';\r\n                w.emitter = target;\r\n                w.type = type;\r\n                w.count = existing.length;\r\n\r\n                if (typeof console === 'object' && console.warn) {\r\n                    console.warn('%s: %s', w.name, w.message);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return target;\r\n}\r\n\r\nfunction _removeListener(type, listener) {\r\n    var list, events, position, i, originalListener;\r\n\r\n    if (typeof listener !== 'function') throw new TypeError('\"listener\" argument must be a function');\r\n\r\n    events = this._events;\r\n    if (!events) return this;\r\n\r\n    list = events[type];\r\n    if (!list) return this;\r\n\r\n    if (list === listener || list.listener === listener) {\r\n        if (--this._eventsCount === 0) this._events = objectCreate(null);\r\n        else {\r\n            delete events[type];\r\n            if (events.off) this.emit('off', type, list.listener || listener);\r\n        }\r\n    } else if (typeof list !== 'function') {\r\n        position = -1;\r\n\r\n        for (i = list.length - 1; i >= 0; i--) {\r\n            if (list[i] === listener || list[i].listener === listener) {\r\n                originalListener = list[i].listener;\r\n                position = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (position < 0) return this;\r\n\r\n        if (position === 0) list.shift();\r\n        else spliceOne(list, position);\r\n\r\n        if (list.length === 1) events[type] = list[0];\r\n\r\n        if (events.off) this.emit('off', type, originalListener || listener);\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nfunction onceWrapper() {\r\n    if (!this.fired) {\r\n        this.target.off(this.type, this.wrapFn);\r\n        this.fired = true;\r\n        switch (arguments.length) {\r\n            case 0:\r\n                return this.listener.call(this.target);\r\n            case 1:\r\n                return this.listener.call(this.target, arguments[0]);\r\n            case 2:\r\n                return this.listener.call(this.target, arguments[0], arguments[1]);\r\n            case 3:\r\n                return this.listener.call(this.target, arguments[0], arguments[1], arguments[2]);\r\n            default:\r\n                var args = new Array(arguments.length);\r\n                for (var i = 0; i < args.length; ++i) args[i] = arguments[i];\r\n                this.listener.apply(this.target, args);\r\n        }\r\n    }\r\n}\r\n\r\nfunction _onceWrap(target, type, listener) {\r\n    var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\r\n    var wrapped = bind.call(onceWrapper, state);\r\n    wrapped.listener = listener;\r\n    state.wrapFn = wrapped;\r\n    return wrapped;\r\n}\r\n\r\nfunction _listeners(target, type, unwrap) {\r\n    var events = target._events;\r\n\r\n    if (!events) return [];\r\n\r\n    var evlistener = events[type];\r\n    if (!evlistener) return [];\r\n\r\n    if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\r\n\r\n    return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\r\n}\r\n\r\nfunction listenerCount(type) {\r\n    var events = this._events;\r\n\r\n    if (events) {\r\n        var evlistener = events[type];\r\n\r\n        if (typeof evlistener === 'function') {\r\n            return 1;\r\n        } else if (evlistener) {\r\n            return evlistener.length;\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\n// About 1.5x faster than the two-arg version of Array#splice().\r\nfunction spliceOne(list, index) {\r\n    for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) list[i] = list[k];\r\n    list.pop();\r\n}\r\n\r\nfunction arrayClone(arr, n) {\r\n    var copy = new Array(n);\r\n    for (var i = 0; i < n; ++i) copy[i] = arr[i];\r\n    return copy;\r\n}\r\n\r\nfunction unwrapListeners(arr) {\r\n    var ret = new Array(arr.length);\r\n    for (var i = 0; i < ret.length; ++i) {\r\n        ret[i] = arr[i].listener || arr[i];\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction objectCreatePolyfill(proto) {\r\n    var F = function () {};\r\n    F.prototype = proto;\r\n    return new F();\r\n}\r\n\r\nfunction objectKeysPolyfill(obj) {\r\n    var keys = [];\r\n    for (var k in obj)\r\n        if (Object.prototype.hasOwnProperty.call(obj, k)) {\r\n            keys.push(k);\r\n        }\r\n    return k;\r\n}\r\n\r\nfunction functionBindPolyfill(context) {\r\n    var fn = this;\r\n    return function () {\r\n        return fn.apply(context, arguments);\r\n    };\r\n}\r\n","import EventEmitter from '../util/event-emitter';\r\n\r\nexport class Context extends EventEmitter {}\r\n\r\nexport type PushConf = Partial<{\r\n    done: boolean;\r\n    stubTime: number;\r\n    offsetPos: number; // Represents the start byte of the pushed data relative to the entire file\r\n}>;\r\n\r\nexport type GlobalOptions = Partial<{\r\n    debug: boolean;\r\n    decodeCodec: boolean;\r\n    config: PushConf;\r\n}>;\r\n\r\nexport interface IDemux {\r\n    /**\r\n     * Pipe the arrayBuffer to the demuxer.\r\n     * @param buf\r\n     * @param conf\r\n     */\r\n    push(buf: ArrayBuffer | Uint8Array, conf: PushConf): void;\r\n\r\n    reset(): void;\r\n\r\n    destroy(): void;\r\n}\r\n","/**\r\n * @file: is.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\n/**\r\n * Used to resolve the\r\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\r\n * of values.\r\n */\r\nvar objectToString = Object.prototype.toString;\r\n\r\n/**\r\n * Checks if `value` is object-like. A value is object-like if it's not `null`\r\n * and has a `typeof` result of \"object\".\r\n *\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\r\n * @example\r\n *\r\n * _.isObjectLike({});\r\n * // => true\r\n *\r\n * _.isObjectLike([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isObjectLike(_.noop);\r\n * // => false\r\n *\r\n * _.isObjectLike(null);\r\n * // => false\r\n */\r\nexport function isObjectLike(value: any): boolean {\r\n    return !!value && typeof value == 'object';\r\n}\r\n\r\nexport function isEmptyObject(obj: object): boolean {\r\n    for (var prop in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n            return false;\r\n        }\r\n    }\r\n    return JSON.stringify(obj) === JSON.stringify({});\r\n}\r\n\r\n/**\r\n * @param url\r\n */\r\nexport function isHttps(url?: string): boolean {\r\n    return /^https/gi.test(url || window.location.protocol);\r\n}\r\n\r\n/**\r\n * @param num\r\n */\r\nexport function isNumber(num: any): boolean {\r\n    return typeof num === 'number' && !isNaN(num);\r\n}\r\n\r\n/**\r\n * @param value\r\n */\r\nexport function isArrayBuffer(value: any): boolean {\r\n    return isObjectLike(value) && objectToString.call(value).toLowerCase() === '[object arraybuffer]';\r\n}\r\n\r\n/**\r\n * @param value\r\n */\r\nexport function isUint8Array(value: any): boolean {\r\n    return isObjectLike(value) && objectToString.call(value).toLowerCase() === '[object uint8array]';\r\n}\r\n","/**\r\n * @file: cache-buffer.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\nimport { isNumber } from './is';\r\n\r\n/**\r\n * Cache Buffer util.\r\n * It's applicable for streaming data cutting and retaining the data,\r\n * the algorithm minimizes memory application as much as possible.\r\n */\r\n\r\nexport default class CacheBuffer {\r\n    get byteLength(): number {\r\n        if (!isNumber(this.byteLength_)) {\r\n            let len = 0;\r\n\r\n            for (let i = 0, item: Uint8Array; i < this.list_.length; i++) {\r\n                item = this.list_[i];\r\n                len += item.byteLength;\r\n            }\r\n            this.byteLength_ = len;\r\n        }\r\n\r\n        return this.byteLength_;\r\n    }\r\n\r\n    /**\r\n     * maybe return new allocated memory or original memory\r\n     */\r\n    get bytes(): Uint8Array | null {\r\n        const { bufferList } = this;\r\n        let bytes = null;\r\n\r\n        if (bufferList.length > 0) {\r\n            if (bufferList.length === 0) {\r\n                bytes = bufferList[0];\r\n            } else {\r\n                bytes = this.toNewBytes();\r\n            }\r\n        }\r\n\r\n        return bytes;\r\n    }\r\n\r\n    get empty() {\r\n        return this.list_.length === 0;\r\n    }\r\n\r\n    get bufferList() {\r\n        return this.list_;\r\n    }\r\n\r\n    /**\r\n     * Used to cache calculations, reduce the number of CPU calculations.\r\n     * When internal data changes, the value needs to be cleared and recalculated.\r\n     */\r\n    private byteLength_: number | null;\r\n\r\n    private list_: Array<Uint8Array> = [];\r\n\r\n    clear() {\r\n        let len = this.list_.length;\r\n        if (len > 0) {\r\n            this.list_.splice(0, len);\r\n        }\r\n        this.byteLength_ = null;\r\n    }\r\n\r\n    toNewBytes(): Uint8Array | null {\r\n        let bytes = null;\r\n        let tryCount: number = 0;\r\n        let maxTryCount: number = 50;\r\n\r\n        // The following retry strategies are provided for failed memory applications\r\n        // In terms of a better strategy, a failed memory application retry should be\r\n        // an asynchronous process, which does not return until the application succeeds.\r\n        // But the original design of the library is synchronous.\r\n        while (bytes === null) {\r\n            try {\r\n                tryCount++;\r\n                bytes = new Uint8Array(this.byteLength);\r\n            } catch (e) {\r\n                if (tryCount > maxTryCount) {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let i = 0, offset = 0; i < this.list_.length; i++) {\r\n            let payload = this.list_[i];\r\n\r\n            bytes.set(payload, offset);\r\n            offset += payload.byteLength;\r\n        }\r\n\r\n        return bytes;\r\n    }\r\n\r\n    append(newBuffer: Uint8Array | CacheBuffer): void {\r\n        if (newBuffer instanceof CacheBuffer) {\r\n            this.list_ = this.list_.concat(newBuffer.bufferList);\r\n        } else {\r\n            this.list_.push(newBuffer);\r\n        }\r\n\r\n        this.byteLength_ = null;\r\n    }\r\n\r\n    /**\r\n     * This function cuts a complete TypedArray from CacheBuffer and retains the remainder of CacheBuffer.\r\n     * The following points should be noted when using this function:\r\n     * 1. If the cut needs to return the cut-out part, the cut length should be as small as possible to reduce the errors in memory application.\r\n     * 2. If the cutting is only to preserve the remaining parts, the cutting size is within the total number of bytes, without considering memory applications.\r\n     * @param {number} fixedLength\r\n     * @param {boolean} [needCutResult] - If not, just retain the remaining parts after cutting.\r\n     */\r\n    cut(fixedLength: number, needCutResult: boolean = true): Uint8Array {\r\n        let chunk = null;\r\n\r\n        if (fixedLength > 0 && !this.empty) {\r\n            let list = this.list_;\r\n\r\n            let offset = 0;\r\n            let loopIndex = 0;\r\n\r\n            while (list.length > 0) {\r\n                let cur = list.shift();\r\n\r\n                if (loopIndex === 0) {\r\n                    if (cur.byteLength >= fixedLength) {\r\n                        if (needCutResult) {\r\n                            // Here is the key point for optimize memory alloc\r\n                            chunk = cur.subarray(0, fixedLength);\r\n                        }\r\n\r\n                        if (cur.byteLength > fixedLength) {\r\n                            cur = cur.subarray(fixedLength);\r\n                            list.unshift(cur);\r\n                        }\r\n                        break;\r\n                    } else {\r\n                        if (needCutResult) {\r\n                            try {\r\n                                chunk = new Uint8Array(fixedLength);\r\n                            } catch (e) {\r\n                                throw `alloc_memory_error@ cache buffer: ${fixedLength} ${e.message}`;\r\n                            }\r\n\r\n                            chunk.set(cur, 0);\r\n                        }\r\n                        offset += cur.byteLength;\r\n                    }\r\n                } else {\r\n                    let subLen = fixedLength - offset;\r\n\r\n                    if (cur.byteLength >= subLen) {\r\n                        if (needCutResult) {\r\n                            chunk.set(cur.subarray(0, subLen), offset);\r\n                        }\r\n\r\n                        cur = cur.subarray(subLen);\r\n\r\n                        if (cur.byteLength > 0) {\r\n                            list.unshift(cur);\r\n                        }\r\n\r\n                        break;\r\n                    } else {\r\n                        if (needCutResult) {\r\n                            chunk.set(cur, offset);\r\n                        }\r\n                        offset += cur.byteLength;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                loopIndex++;\r\n            }\r\n\r\n            this.byteLength_ = null;\r\n        }\r\n\r\n        return chunk;\r\n    }\r\n}\r\n","/**\r\n * @fileOverview A simple multimap template.\r\n */\r\n\r\ninterface MapData {\r\n    [index: string]: Array<any>;\r\n}\r\n\r\nexport default class MultiMap {\r\n    private map_: MapData;\r\n\r\n    constructor() {\r\n        this.map_ = {};\r\n    }\r\n\r\n    /**\r\n     * Add a key, value pair to the map.\r\n     * @param key\r\n     * @param value\r\n     */\r\n    push(key: string, value: any) {\r\n        if (Object.prototype.hasOwnProperty.call(this.map_, key)) {\r\n            this.map_[key].push(value);\r\n        } else {\r\n            this.map_[key] = [value];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get a list of values by key.\r\n     * @param key\r\n     */\r\n    get(key: string): Array<any> {\r\n        let list = this.map_[key];\r\n        // slice() clones the list so that it and the map can each be modified\r\n        // without affecting the other.\r\n        return list ? list.slice() : null;\r\n    }\r\n\r\n    /**\r\n     * Get a list of all values.\r\n     */\r\n    getAll(): Array<any> {\r\n        let list = [];\r\n        for (let key in this.map_) {\r\n            list.push.apply(list, this.map_[key]);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    /**\r\n     * Remove a specific value, if it exists.\r\n     * @param key\r\n     * @param value\r\n     */\r\n    remove(key: string, value: any): void {\r\n        let list = this.map_[key];\r\n        if (list) {\r\n            for (let i = 0; i < list.length; ++i) {\r\n                if (list[i] == value) {\r\n                    list.splice(i, 1);\r\n                    --i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear all keys and values from the multimap.\r\n     */\r\n    clear(): void {\r\n        this.map_ = {};\r\n    }\r\n\r\n    /**\r\n     * @param callback\r\n     */\r\n    forEach(callback: Function): void {\r\n        for (let key in this.map_) {\r\n            callback(key, this.map_[key]);\r\n        }\r\n    }\r\n}\r\n","import MultiMap from './multi-map';\r\n\r\n/**\r\n * Creates a new Binding_ and attaches the event listener to the event target.\r\n */\r\nclass Binding_ {\r\n    target: any;\r\n    type: string;\r\n    listener: Function;\r\n\r\n    /**\r\n     * @param target - The event target.\r\n     * @param type - The event type.\r\n     * @param listener - The event listener.\r\n     */\r\n    constructor(target: any, type: string, listener: Function) {\r\n        this.target = target;\r\n        this.type = type;\r\n        this.listener = listener;\r\n\r\n        if (this.target.addEventListener) {\r\n            this.target.addEventListener(type, listener, false);\r\n        } else if (this.target.on) {\r\n            this.target.on(type, listener, false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Detaches the event listener from the event target.\r\n     * This does nothing if the event listener is already detached.\r\n     */\r\n    off() {\r\n        if (this.target.removeEventListener) {\r\n            this.target.removeEventListener(this.type, this.listener, false);\r\n        } else if (this.target.off) {\r\n            this.target.off(this.type, this.listener, false);\r\n        }\r\n\r\n        this.target = null;\r\n        this.listener = null;\r\n    }\r\n}\r\n\r\n/**\r\n * Creates a new EventManager.\r\n * An EventManager maintains a collection of \"event bindings\" between event targets and event listeners.\r\n */\r\nexport default class EventManager {\r\n    private bindingMap_: MultiMap;\r\n    // static Binding_: Binding;\r\n\r\n    constructor() {\r\n        /**\r\n         * Maps an event type to an array of event bindings.\r\n         */\r\n        this.bindingMap_ = new MultiMap();\r\n    }\r\n\r\n    /**\r\n     * Detaches all event listeners.\r\n     * @override\r\n     */\r\n    destroy(): void {\r\n        this.removeAll();\r\n        this.bindingMap_ = null;\r\n    }\r\n\r\n    /**\r\n     * Attaches an event listener to an event target.\r\n     * @param target - The event target.\r\n     * @param type  - The event type.\r\n     * @param listener  - The event listener.\r\n     */\r\n    on(target: any, type: string, listener: Function): EventManager {\r\n        if (!this.bindingMap_) return;\r\n\r\n        let binding = new Binding_(target, type, listener);\r\n        this.bindingMap_.push(type, binding);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Attaches an event listener to an event target.\r\n     * The listener will be removed when the first instance of the event is fired.\r\n     * @param {EventTarget} target The event target.\r\n     * @param {string} type The event type.\r\n     * @param {function} listener The event listener.\r\n     */\r\n    once(target: any, type: string, listener: Function) {\r\n        // Install a shim listener that will stop listening after the first event.\r\n        this.on(\r\n            target,\r\n            type,\r\n            function (event: any) {\r\n                // Stop listening to this event.\r\n                this.off(target, type);\r\n                // Call the original listener.\r\n                listener(event);\r\n            }.bind(this)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Detaches an event listener from an event target.\r\n     * @param {EventTarget} target The event target.\r\n     * @param {string} type The event type.\r\n     */\r\n    off(target: any, type: string): void {\r\n        if (!this.bindingMap_) return;\r\n\r\n        let list = this.bindingMap_.get(type) || [];\r\n\r\n        for (let i = 0; i < list.length; ++i) {\r\n            let binding = list[i];\r\n\r\n            if (binding.target == target) {\r\n                binding.off();\r\n                this.bindingMap_.remove(type, binding);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Detaches all event listeners from all targets.\r\n     */\r\n    removeAll(): void {\r\n        if (!this.bindingMap_) return;\r\n\r\n        let list = this.bindingMap_.getAll();\r\n\r\n        for (let i = 0; i < list.length; ++i) {\r\n            list[i].off();\r\n        }\r\n\r\n        this.bindingMap_.clear();\r\n    }\r\n}\r\n\r\n// EventManager.Binding_ = Binding;\r\n","/**\r\n * @file: global.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\n/**\r\n * @description provide global scope.\r\n */\r\nlet global: any;\r\n\r\n// see https://stackoverflow.com/a/11237259/589493\r\nif (typeof window === 'undefined') {\r\n    /* eslint-disable-next-line no-undef */\r\n    global = self;\r\n} else {\r\n    global = window;\r\n}\r\n\r\nexport default global;\r\n","/**\r\n * @file: logger.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\n/**\r\n * utils - logger\r\n */\r\n/* global WorkerGlobalScope */\r\nimport global from './global';\r\nimport EventEmitter from './event-emitter';\r\n\r\nlet console = global.console;\r\nconst isWorker =\r\n    typeof WorkerGlobalScope !== 'undefined' &&\r\n    self instanceof WorkerGlobalScope &&\r\n    typeof importScripts != 'undefined';\r\nconst prefix = '>>>';\r\n\r\nclass Logger extends EventEmitter {\r\n    private MSG_NAME: string;\r\n    private _enable: boolean;\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(value: boolean) {\r\n        this._enable = value;\r\n\r\n        this.MSG_NAME = '__log__';\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._enable = false;\r\n    }\r\n\r\n    log(...restArgs: any) {\r\n        if (isWorker) {\r\n            logger.emit(this.MSG_NAME, 'log', [...restArgs].join(''));\r\n        } else {\r\n            if (this._enable) {\r\n                console.log.call(console, prefix, ...restArgs);\r\n            }\r\n        }\r\n    }\r\n\r\n    debug(...restArgs: any) {\r\n        if (isWorker) {\r\n            logger.emit(this.MSG_NAME, 'debug', [...restArgs].join(''));\r\n        } else {\r\n            if (this._enable && console.debug) {\r\n                console.debug.call(console, prefix, ...restArgs);\r\n            }\r\n        }\r\n    }\r\n\r\n    assert(...restArgs: any) {\r\n        if (this._enable && console.assert) {\r\n            let condition = restArgs[0];\r\n            let sliceArgs = Array.prototype.slice.call(restArgs, 1);\r\n            sliceArgs.unshift(prefix);\r\n\r\n            console.assert.call(console, condition, ...sliceArgs);\r\n        }\r\n    }\r\n\r\n    warn(...restArgs: any) {\r\n        if (isWorker) {\r\n            logger.emit(this.MSG_NAME, 'warn', [...restArgs].join(''));\r\n        } else {\r\n            if (this._enable) {\r\n                console.warn.call(console, prefix, ...restArgs);\r\n            }\r\n        }\r\n    }\r\n\r\n    error(...restArgs: any) {\r\n        if (isWorker) {\r\n            logger.emit(this.MSG_NAME, 'error', [...restArgs].join(''));\r\n        } else {\r\n            if (this._enable) {\r\n                console.error.call(console, prefix, ...restArgs);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nlet logger = new Logger();\r\n\r\n/**\r\n * @param {Object} obj - custom logger\r\n */\r\nexport function setLogger(obj) {\r\n    console = obj;\r\n}\r\n\r\nexport function getLogger() {\r\n    return logger;\r\n}\r\n\r\nexport default logger;\r\n","/**\r\n * @file: stream.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\n/**\r\n * simple stream implementation.\r\n */\r\n\r\nimport { PushConf } from '../types/globals';\r\nimport EventEmitter from './event-emitter';\r\n\r\nclass Stream extends EventEmitter {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * connect to the next pipeline stream.\r\n     * @param destination\r\n     */\r\n    pipe(destination: Stream): Stream {\r\n        this.on('reset', function () {\r\n            destination.reset();\r\n        });\r\n\r\n        this.on('data', function (data) {\r\n            destination.push(data);\r\n        });\r\n\r\n        this.on('done', function (flushSource) {\r\n            destination.flush(flushSource);\r\n        });\r\n\r\n        return destination;\r\n    }\r\n\r\n    /**\r\n     * detaches the next pipeline stream previously attached.\r\n     */\r\n    unpipe(): Stream {\r\n        this.removeAllListeners('reset');\r\n        this.removeAllListeners('data');\r\n        this.removeAllListeners('done');\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * push data to current pipeline.\r\n     * @param data\r\n     */\r\n    push(data: any, conf?: PushConf): void {\r\n        if (conf) {\r\n        }\r\n        this.emit('data', data);\r\n    }\r\n\r\n    /**\r\n     * flush current pipeline.\r\n     * @param flushSource\r\n     */\r\n    flush(flushSource: Stream): void {\r\n        this.emit('done', flushSource);\r\n    }\r\n\r\n    reset(): void {\r\n        this.emit('reset');\r\n    }\r\n}\r\n\r\nexport default Stream;\r\n","/**\r\n * @file: demuxer.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\nimport { Events } from './enum/events';\r\nimport { Context, GlobalOptions, IDemux, PushConf } from './types/globals';\r\nimport CacheBuffer from './util/cache-buffer';\r\nimport EventManager from './util/event-manager';\r\nimport { isArrayBuffer, isUint8Array } from './util/is';\r\nimport logger from './util/logger';\r\nimport Stream from './util/stream';\r\n\r\nexport default abstract class DemuxFacade extends Stream implements IDemux {\r\n    abstract readonly endStream?: Stream;\r\n    protected eventManager_: EventManager;\r\n    protected ctx_: Context;\r\n    protected options_: GlobalOptions;\r\n    protected cache_buffer_: CacheBuffer;\r\n\r\n    protected listenEndStream_(): void {\r\n        this.eventManager_ = new EventManager();\r\n\r\n        this.eventManager_\r\n            .on(this.endStream, 'data', (data) => {\r\n                this.emit(Events.DEMUX_DATA, data);\r\n            })\r\n            .on(this.endStream, 'done', (data) => {\r\n                this.emit(Events.DONE, data);\r\n            })\r\n            .on(this.ctx_, 'error', (data) => {\r\n                this.emit(Events.ERROR, data);\r\n            });\r\n    }\r\n\r\n    constructor(options: GlobalOptions = {}) {\r\n        super();\r\n\r\n        if (options.debug) {\r\n            logger.enable = true;\r\n        }\r\n\r\n        this.ctx_ = new Context();\r\n        this.options_ = options;\r\n        this.cache_buffer_ = new CacheBuffer();\r\n    }\r\n\r\n    /**\r\n     * Pipe the arrayBuffer to the demuxer.\r\n     * @param buf\r\n     * @param conf\r\n     */\r\n    abstract push(buf: ArrayBuffer | Uint8Array, conf: PushConf): void;\r\n\r\n    /**\r\n     * transfer data to Uint8Array\r\n     * @param buf\r\n     */\r\n    protected constraintPushData_(buf: ArrayBuffer | Uint8Array): Uint8Array | null {\r\n        let newBuf = null;\r\n        if (!isArrayBuffer(buf) && !isUint8Array(buf)) {\r\n            logger.error(`Data pushed is not an ArrayBuffer or Uint8Array: ${buf}`);\r\n            return newBuf;\r\n        }\r\n\r\n        if (isArrayBuffer(buf)) {\r\n            newBuf = new Uint8Array(buf);\r\n        } else {\r\n            newBuf = buf;\r\n        }\r\n\r\n        return newBuf;\r\n    }\r\n\r\n    reset(): void {}\r\n\r\n    destroy(): void {\r\n        this.unpipe();\r\n        this.endStream.unpipe();\r\n\r\n        this.eventManager_.removeAll();\r\n    }\r\n}\r\n","/**\r\n * @file: mp4-inspector.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\n/* eslint-disable */\r\nlet /**\r\n     * Returns the string representation of an ASCII encoded four byte buffer.\r\n     * @param buffer - a four-byte buffer to translate\r\n     * @return the corresponding string\r\n     */\r\n    parseType = function (buffer: Uint8Array): string {\r\n        let result = '';\r\n        result += String.fromCharCode(buffer[0]);\r\n        result += String.fromCharCode(buffer[1]);\r\n        result += String.fromCharCode(buffer[2]);\r\n        result += String.fromCharCode(buffer[3]);\r\n        return result;\r\n    },\r\n    parseMp4Date = function (seconds: number): Date {\r\n        return new Date(seconds * 1000 - 2082844800000);\r\n    },\r\n    parseSampleFlags = function (flags: Uint8Array) {\r\n        return {\r\n            isLeading: (flags[0] & 0x0c) >>> 2,\r\n            dependsOn: flags[0] & 0x03,\r\n            isDependedOn: (flags[1] & 0xc0) >>> 6,\r\n            hasRedundancy: (flags[1] & 0x30) >>> 4,\r\n            paddingValue: (flags[1] & 0x0e) >>> 1,\r\n            isNonSyncSample: flags[1] & 0x01,\r\n            degradationPriority: (flags[2] << 8) | flags[3]\r\n        };\r\n    },\r\n    nalParse = function (avcStream) {\r\n        let avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\r\n            result = [],\r\n            i,\r\n            length;\r\n        for (i = 0; i < avcStream.length; i += length) {\r\n            length = avcView.getUint32(i);\r\n            i += 4;\r\n            switch (avcStream[i] & 0x1f) {\r\n                case 0x01:\r\n                    result.push('NDR');\r\n                    break;\r\n                case 0x05:\r\n                    result.push('IDR');\r\n                    break;\r\n                case 0x06:\r\n                    result.push('SEI');\r\n                    break;\r\n                case 0x07:\r\n                    result.push('SPS');\r\n                    break;\r\n                case 0x08:\r\n                    result.push('PPS');\r\n                    break;\r\n                case 0x09:\r\n                    result.push('AUD');\r\n                    break;\r\n                default:\r\n                    result.push(avcStream[i] & 0x1f);\r\n                    break;\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    // registry of handlers for individual mp4 box types\r\n    parse = {\r\n        // codingname, not a first-class box type. stsd entries share the\r\n        // same format as real boxes so the parsing infrastructure can be\r\n        // shared\r\n        avc1: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n            return {\r\n                dataReferenceIndex: view.getUint16(6),\r\n                width: view.getUint16(24),\r\n                height: view.getUint16(26),\r\n                horizresolution: view.getUint16(28) + view.getUint16(30) / 16,\r\n                vertresolution: view.getUint16(32) + view.getUint16(34) / 16,\r\n                frameCount: view.getUint16(40),\r\n                depth: view.getUint16(74),\r\n                config: mp4toJSON(data.subarray(78, data.byteLength))\r\n            };\r\n        },\r\n        avcC: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result = {\r\n                    configurationVersion: data[0],\r\n                    avcProfileIndication: data[1],\r\n                    profileCompatibility: data[2],\r\n                    avcLevelIndication: data[3],\r\n                    lengthSizeMinusOne: data[4] & 0x03,\r\n                    sps: [],\r\n                    pps: []\r\n                },\r\n                numOfSequenceParameterSets = data[5] & 0x1f,\r\n                numOfPictureParameterSets,\r\n                nalSize,\r\n                offset,\r\n                i;\r\n\r\n            // iterate past any SPSs\r\n            offset = 6;\r\n            for (i = 0; i < numOfSequenceParameterSets; i++) {\r\n                nalSize = view.getUint16(offset);\r\n                offset += 2;\r\n                result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\r\n                offset += nalSize;\r\n            }\r\n            // iterate past any PPSs\r\n            numOfPictureParameterSets = data[offset];\r\n            offset++;\r\n            for (i = 0; i < numOfPictureParameterSets; i++) {\r\n                nalSize = view.getUint16(offset);\r\n                offset += 2;\r\n                result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\r\n                offset += nalSize;\r\n            }\r\n            return result;\r\n        },\r\n        btrt: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n            return {\r\n                bufferSizeDB: view.getUint32(0),\r\n                maxBitrate: view.getUint32(4),\r\n                avgBitrate: view.getUint32(8)\r\n            };\r\n        },\r\n        esds: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                esId: (data[6] << 8) | data[7],\r\n                streamPriority: data[8] & 0x1f,\r\n                decoderConfig: {\r\n                    objectProfileIndication: data[11],\r\n                    streamType: (data[12] >>> 2) & 0x3f,\r\n                    bufferSize: (data[13] << 16) | (data[14] << 8) | data[15],\r\n                    maxBitrate: (data[16] << 24) | (data[17] << 16) | (data[18] << 8) | data[19],\r\n                    avgBitrate: (data[20] << 24) | (data[21] << 16) | (data[22] << 8) | data[23],\r\n                    decoderConfigDescriptor: {\r\n                        tag: data[24],\r\n                        length: data[25],\r\n                        // audioObjectType: (data[26] >>> 3) & 0x1f,\r\n                        // samplingFrequencyIndex: ((data[26] & 0x07) << 1) |\r\n                        //   ((data[27] >>> 7) & 0x01),\r\n                        // channelConfiguration: (data[27] >>> 3) & 0x0f,\r\n                        // FIXME\r\n                        audioObjectType: (data[35] >>> 3) & 0x1f,\r\n                        samplingFrequencyIndex: ((data[35] & 0x07) << (8 + (data[36] & 0x80))) >> 7,\r\n                        channelConfiguration: (data[36] & 0x78) >> 3\r\n                    }\r\n                }\r\n            };\r\n        },\r\n        ftyp: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result = {\r\n                    majorBrand: parseType(data.subarray(0, 4)),\r\n                    minorVersion: view.getUint32(4),\r\n                    compatibleBrands: []\r\n                },\r\n                i = 8;\r\n            while (i < data.byteLength) {\r\n                result.compatibleBrands.push(parseType(data.subarray(i, i + 4)));\r\n                i += 4;\r\n            }\r\n            return result;\r\n        },\r\n        dinf: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        dref: function (data) {\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                dataReferences: mp4toJSON(data.subarray(8))\r\n            };\r\n        },\r\n        hdlr: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result = {\r\n                    version: view.getUint8(0),\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    handlerType: parseType(data.subarray(8, 12)),\r\n                    name: ''\r\n                },\r\n                i = 8;\r\n\r\n            // parse out the name field\r\n            for (i = 24; i < data.byteLength; i++) {\r\n                if (data[i] === 0x00) {\r\n                    // the name field is null-terminated\r\n                    i++;\r\n                    break;\r\n                }\r\n                result.name += String.fromCharCode(data[i]);\r\n            }\r\n            // decode UTF-8 to javascript's internal representation\r\n            // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\r\n            result.name = decodeURIComponent(decodeURIComponent(result.name));\r\n\r\n            return result;\r\n        },\r\n        // mdat: function(data) {\r\n        // \treturn {\r\n        // \t\tbyteLength: data.byteLength,\r\n        // \t\tnals: nalParse(data),\r\n        // \t\trealData: data\r\n        // \t};\r\n        // },\r\n        mdhd: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                i = 4,\r\n                language,\r\n                result = {\r\n                    version: view.getUint8(0),\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    language: '',\r\n                    creationTime: new Date(),\r\n                    modificationTime: new Date(),\r\n                    timescale: 0,\r\n                    duration: 0\r\n                };\r\n            if (result.version === 1) {\r\n                i += 4;\r\n                result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n                i += 8;\r\n                result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n                i += 4;\r\n                result.timescale = view.getUint32(i);\r\n                i += 8;\r\n                result.duration = view.getUint32(i); // truncating top 4 bytes\r\n            } else {\r\n                result.creationTime = parseMp4Date(view.getUint32(i));\r\n                i += 4;\r\n                result.modificationTime = parseMp4Date(view.getUint32(i));\r\n                i += 4;\r\n                result.timescale = view.getUint32(i);\r\n                i += 4;\r\n                result.duration = view.getUint32(i);\r\n            }\r\n            i += 4;\r\n            // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\r\n            // each field is the packed difference between its ASCII value and 0x60\r\n            language = view.getUint16(i);\r\n            result.language += String.fromCharCode((language >> 10) + 0x60);\r\n            result.language += String.fromCharCode(((language & 0x03c0) >> 5) + 0x60);\r\n            result.language += String.fromCharCode((language & 0x1f) + 0x60);\r\n\r\n            return result;\r\n        },\r\n        mdia: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        mfhd: function (data) {\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                sequenceNumber: (data[4] << 24) | (data[5] << 16) | (data[6] << 8) | data[7]\r\n            };\r\n        },\r\n        minf: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        // codingname, not a first-class box type. stsd entries share the\r\n        // same format as real boxes so the parsing infrastructure can be\r\n        // shared\r\n        mp4a: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result = {\r\n                    // 6 bytes reserved\r\n                    dataReferenceIndex: view.getUint16(6),\r\n                    // 4 + 4 bytes reserved\r\n                    channelcount: view.getUint16(16),\r\n                    samplesize: view.getUint16(18),\r\n                    // 2 bytes pre_defined\r\n                    // 2 bytes reserved\r\n                    samplerate: view.getUint16(24) + view.getUint16(26) / 65536,\r\n                    streamDescriptor: undefined\r\n                };\r\n\r\n            // if there are more bytes to process, assume this is an ISO/IEC\r\n            // 14496-14 MP4AudioSampleEntry and parse the ESDBox\r\n            if (data.byteLength > 28) {\r\n                result.streamDescriptor = mp4toJSON(data.subarray(28))[0];\r\n            }\r\n            return result;\r\n        },\r\n        moof: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        moov: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        mvex: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        mvhd: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                i = 4,\r\n                result = {\r\n                    version: view.getUint8(0),\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    creationTime: new Date(),\r\n                    modificationTime: new Date(),\r\n                    timescale: 0,\r\n                    duration: 0,\r\n                    rate: 0,\r\n                    volume: 0,\r\n                    matrix: new Uint32Array(0),\r\n                    nextTrackId: 0\r\n                };\r\n\r\n            if (result.version === 1) {\r\n                i += 4;\r\n                result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n                i += 8;\r\n                result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n                i += 4;\r\n                result.timescale = view.getUint32(i);\r\n                i += 8;\r\n                result.duration = view.getUint32(i); // truncating top 4 bytes\r\n            } else {\r\n                result.creationTime = parseMp4Date(view.getUint32(i));\r\n                i += 4;\r\n                result.modificationTime = parseMp4Date(view.getUint32(i));\r\n                i += 4;\r\n                result.timescale = view.getUint32(i);\r\n                i += 4;\r\n                result.duration = view.getUint32(i);\r\n            }\r\n            i += 4;\r\n\r\n            // convert fixed-point, base 16 back to a number\r\n            result.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\r\n            i += 4;\r\n            result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\r\n            i += 2;\r\n            i += 2;\r\n            i += 2 * 4;\r\n            result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\r\n            i += 9 * 4;\r\n            i += 6 * 4;\r\n            result.nextTrackId = view.getUint32(i);\r\n            return result;\r\n        },\r\n        pdin: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n            return {\r\n                version: view.getUint8(0),\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                rate: view.getUint32(4),\r\n                initialDelay: view.getUint32(8)\r\n            };\r\n        },\r\n        sdtp: function (data) {\r\n            let result = {\r\n                    version: data[0],\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    samples: []\r\n                },\r\n                i;\r\n\r\n            for (i = 4; i < data.byteLength; i++) {\r\n                result.samples.push({\r\n                    dependsOn: (data[i] & 0x30) >> 4,\r\n                    isDependedOn: (data[i] & 0x0c) >> 2,\r\n                    hasRedundancy: data[i] & 0x03\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        sidx: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result = {\r\n                    version: data[0],\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    references: [],\r\n                    referenceId: view.getUint32(4),\r\n                    timescale: view.getUint32(8),\r\n                    earliestPresentationTime: view.getUint32(12),\r\n                    firstOffset: view.getUint32(16)\r\n                },\r\n                referenceCount = view.getUint16(22),\r\n                i;\r\n\r\n            for (i = 24; referenceCount; i += 12, referenceCount--) {\r\n                result.references.push({\r\n                    referenceType: (data[i] & 0x80) >>> 7,\r\n                    referencedSize: view.getUint32(i) & 0x7fffffff,\r\n                    subsegmentDuration: view.getUint32(i + 4),\r\n                    startsWithSap: !!(data[i + 8] & 0x80),\r\n                    sapType: (data[i + 8] & 0x70) >>> 4,\r\n                    sapDeltaTime: view.getUint32(i + 8) & 0x0fffffff\r\n                });\r\n            }\r\n\r\n            return result;\r\n        },\r\n        stbl: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        stco: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n            let entryCount = view.getUint32(4);\r\n            let result = {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                entryCount: entryCount,\r\n                chunkOffsets: []\r\n            };\r\n            for (let i = 8; entryCount; i += 4, entryCount--) {\r\n                result.chunkOffsets.push(view.getUint32(i));\r\n            }\r\n            return result;\r\n        },\r\n        stsc: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                entryCount = view.getUint32(4),\r\n                result = {\r\n                    version: data[0],\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    sampleToChunks: []\r\n                },\r\n                i;\r\n            for (i = 8; entryCount; i += 12, entryCount--) {\r\n                result.sampleToChunks.push({\r\n                    firstChunk: view.getUint32(i),\r\n                    samplesPerChunk: view.getUint32(i + 4),\r\n                    sampleDescriptionIndex: view.getUint32(i + 8)\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        stsd: function (data) {\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                boxes: mp4toJSON(data.subarray(8))\r\n            };\r\n        },\r\n        stsz: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result = {\r\n                    version: data[0],\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    sampleSize: view.getUint32(4),\r\n                    entries: []\r\n                },\r\n                i;\r\n            for (i = 12; i < data.byteLength; i += 4) {\r\n                result.entries.push(view.getUint32(i));\r\n            }\r\n            return result;\r\n        },\r\n        stts: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result = {\r\n                    version: data[0],\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    timeToSamples: []\r\n                },\r\n                entryCount = view.getUint32(4),\r\n                i;\r\n\r\n            for (i = 8; entryCount; i += 8, entryCount--) {\r\n                result.timeToSamples.push({\r\n                    sampleCount: view.getUint32(i),\r\n                    sampleDelta: view.getUint32(i + 4)\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        styp: function (data) {\r\n            return parse.ftyp(data);\r\n        },\r\n        tfdt: function (data) {\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                baseMediaDecodeTime: (data[4] << 24) | (data[5] << 16) | (data[6] << 8) | data[7]\r\n            };\r\n        },\r\n        tfhd: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                result: {\r\n                    version: number;\r\n                    flags: Uint8Array;\r\n                    trackId: number;\r\n                    baseDataOffset?: number;\r\n                    sampleDescriptionIndex?: number;\r\n                    defaultSampleDuration?: number;\r\n                    defaultSampleSize?: number;\r\n                    defaultSampleFlags?: number;\r\n                } = {\r\n                    version: data[0],\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    trackId: view.getUint32(4)\r\n                },\r\n                baseDataOffsetPresent = result.flags[2] & 0x01,\r\n                sampleDescriptionIndexPresent = result.flags[2] & 0x02,\r\n                defaultSampleDurationPresent = result.flags[2] & 0x08,\r\n                defaultSampleSizePresent = result.flags[2] & 0x10,\r\n                defaultSampleFlagsPresent = result.flags[2] & 0x20,\r\n                i;\r\n\r\n            i = 8;\r\n            if (baseDataOffsetPresent) {\r\n                i += 4; // truncate top 4 bytes\r\n                result.baseDataOffset = view.getUint32(12);\r\n                i += 4;\r\n            }\r\n            if (sampleDescriptionIndexPresent) {\r\n                result.sampleDescriptionIndex = view.getUint32(i);\r\n                i += 4;\r\n            }\r\n            if (defaultSampleDurationPresent) {\r\n                result.defaultSampleDuration = view.getUint32(i);\r\n                i += 4;\r\n            }\r\n            if (defaultSampleSizePresent) {\r\n                result.defaultSampleSize = view.getUint32(i);\r\n                i += 4;\r\n            }\r\n            if (defaultSampleFlagsPresent) {\r\n                result.defaultSampleFlags = view.getUint32(i);\r\n            }\r\n            return result;\r\n        },\r\n        tkhd: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                i = 4,\r\n                result = {\r\n                    version: view.getUint8(0),\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    creationTime: new Date(),\r\n                    modificationTime: new Date(),\r\n                    trackId: 0,\r\n                    duration: 0,\r\n                    layer: 0,\r\n                    alternateGroup: 0,\r\n                    volume: 0,\r\n                    width: 0,\r\n                    height: 0,\r\n                    matrix: new Uint32Array(0)\r\n                };\r\n            if (result.version === 1) {\r\n                i += 4;\r\n                result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n                i += 8;\r\n                result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n                i += 4;\r\n                result.trackId = view.getUint32(i);\r\n                i += 4;\r\n                i += 8;\r\n                result.duration = view.getUint32(i); // truncating top 4 bytes\r\n            } else {\r\n                result.creationTime = parseMp4Date(view.getUint32(i));\r\n                i += 4;\r\n                result.modificationTime = parseMp4Date(view.getUint32(i));\r\n                i += 4;\r\n                result.trackId = view.getUint32(i);\r\n                i += 4;\r\n                i += 4;\r\n                result.duration = view.getUint32(i);\r\n            }\r\n            i += 4;\r\n            i += 2 * 4;\r\n            result.layer = view.getUint16(i);\r\n            i += 2;\r\n            result.alternateGroup = view.getUint16(i);\r\n            i += 2;\r\n            // convert fixed-point, base 16 back to a number\r\n            result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\r\n            i += 2;\r\n            i += 2;\r\n            result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\r\n            i += 9 * 4;\r\n            result.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\r\n            i += 4;\r\n            result.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\r\n            return result;\r\n        },\r\n        traf: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        trak: function (data) {\r\n            return {\r\n                boxes: mp4toJSON(data)\r\n            };\r\n        },\r\n        trex: function (data) {\r\n            let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4)),\r\n                trackId: view.getUint32(4),\r\n                defaultSampleDescriptionIndex: view.getUint32(8),\r\n                defaultSampleDuration: view.getUint32(12),\r\n                defaultSampleSize: view.getUint32(16),\r\n                sampleDependsOn: data[20] & 0x03,\r\n                sampleIsDependedOn: (data[21] & 0xc0) >> 6,\r\n                sampleHasRedundancy: (data[21] & 0x30) >> 4,\r\n                samplePaddingValue: (data[21] & 0x0e) >> 1,\r\n                sampleIsDifferenceSample: !!(data[21] & 0x01),\r\n                sampleDegradationPriority: view.getUint16(22)\r\n            };\r\n        },\r\n        trun: function (data) {\r\n            let result: {\r\n                    version: number;\r\n                    flags: Uint8Array;\r\n                    samples: Array<any>;\r\n                    dataOffset?: number;\r\n                } = {\r\n                    version: data[0],\r\n                    flags: new Uint8Array(data.subarray(1, 4)),\r\n                    samples: []\r\n                },\r\n                view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n                dataOffsetPresent = result.flags[2] & 0x01,\r\n                firstSampleFlagsPresent = result.flags[2] & 0x04,\r\n                sampleDurationPresent = result.flags[1] & 0x01,\r\n                sampleSizePresent = result.flags[1] & 0x02,\r\n                sampleFlagsPresent = result.flags[1] & 0x04,\r\n                sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\r\n                sampleCount = view.getUint32(4),\r\n                offset = 8,\r\n                sample;\r\n\r\n            if (dataOffsetPresent) {\r\n                result.dataOffset = view.getUint32(offset);\r\n                offset += 4;\r\n            }\r\n            if (firstSampleFlagsPresent && sampleCount) {\r\n                sample = {\r\n                    flags: parseSampleFlags(data.subarray(offset, offset + 4))\r\n                };\r\n                offset += 4;\r\n                if (sampleDurationPresent) {\r\n                    sample.duration = view.getUint32(offset);\r\n                    offset += 4;\r\n                }\r\n                if (sampleSizePresent) {\r\n                    sample.size = view.getUint32(offset);\r\n                    offset += 4;\r\n                }\r\n                if (sampleCompositionTimeOffsetPresent) {\r\n                    sample.compositionTimeOffset = view.getUint32(offset);\r\n                    offset += 4;\r\n                }\r\n                result.samples.push(sample);\r\n                sampleCount--;\r\n            }\r\n            while (sampleCount--) {\r\n                sample = {};\r\n                if (sampleDurationPresent) {\r\n                    sample.duration = view.getUint32(offset);\r\n                    offset += 4;\r\n                }\r\n                if (sampleSizePresent) {\r\n                    sample.size = view.getUint32(offset);\r\n                    offset += 4;\r\n                }\r\n                if (sampleFlagsPresent) {\r\n                    sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\r\n                    offset += 4;\r\n                }\r\n                if (sampleCompositionTimeOffsetPresent) {\r\n                    sample.compositionTimeOffset = view.getUint32(offset);\r\n                    offset += 4;\r\n                }\r\n                result.samples.push(sample);\r\n            }\r\n            return result;\r\n        },\r\n        'url ': function (data) {\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4))\r\n            };\r\n        },\r\n        vmhd: function (data) {\r\n            //let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n            return {\r\n                version: data[0],\r\n                flags: new Uint8Array(data.subarray(1, 4))\r\n                //graphicsmode: view.getUint16(4),\r\n                //opcolor: new Uint16Array([view.getUint16(6),\r\n                //                          view.getUint16(8),\r\n                //                          view.getUint16(10)])\r\n            };\r\n        }\r\n    };\r\n\r\n/**\r\n * Return a javascript array of box objects parsed from an ISO base media file.\r\n * @param data - the binary data of the media to be inspected\r\n * @return a javascript array of potentially nested box objects\r\n */\r\nlet mp4toJSON = function (data: Uint8Array): Array<any> {\r\n    let i = 0,\r\n        result = [],\r\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n        size,\r\n        type,\r\n        end,\r\n        box;\r\n\r\n    while (i < data.byteLength) {\r\n        // parse box data\r\n        (size = view.getUint32(i)), (type = parseType(data.subarray(i + 4, i + 8)));\r\n        end = size > 1 ? i + size : data.byteLength;\r\n\r\n        // parse type-specific data\r\n        box = (\r\n            parse[type] ||\r\n            function (data) {\r\n                return {\r\n                    data: data\r\n                };\r\n            }\r\n        )(data.subarray(i + 8, end));\r\n        box.size = size;\r\n        box.type = type;\r\n\r\n        // store this box and move to the next\r\n        result.push(box);\r\n        i = end;\r\n    }\r\n    return result;\r\n};\r\n\r\nexport const MP4Inspect = {\r\n    mp4toJSON: mp4toJSON\r\n};\r\n","/**\r\n * @file: demux.js, created at Monday, 23rd December 2019 3:47:23 pm\r\n * @copyright Copyright (c) 2020\r\n * @author gem <gems.xu@gmail.com>\r\n */\r\n\r\nimport DemuxFacade from '../demux-facade';\r\nimport { GlobalOptions } from '../types/globals';\r\nimport logger from '../util/logger';\r\nimport { MP4Inspect } from './mp4-inspector';\r\n\r\n/**\r\n * mp4.\r\n */\r\nexport class MP4Demux extends DemuxFacade {\r\n    constructor(options: GlobalOptions = {}) {\r\n        super(options);\r\n\r\n        super.listenEndStream_();\r\n    }\r\n\r\n    /**\r\n     * This is end pipeline stream\r\n     */\r\n    get endStream() {\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * The MP4 data pushed into stream should be complete data.\r\n     * @param buffer\r\n     */\r\n    push(buffer: ArrayBuffer | Uint8Array) {\r\n        let newBuf: Uint8Array = super.constraintPushData_(buffer);\r\n\r\n        logger.log(`mp4 demux received ${newBuf.byteLength} bytes`);\r\n\r\n        let result = MP4Inspect.mp4toJSON(newBuf);\r\n\r\n        this.emit('data', result);\r\n    }\r\n}\r\n"],"names":["Events","console","global"],"mappings":"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"}